---
title: "STAT510_Project"
author: "Nicholas Roy"
date: "4/22/2020"
output: html_document
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(echo = TRUE)

```

```{r, echo=FALSE} 
pkgs = c("alr4","rmarkdown", "faraway", "datasets", "sos", "car", "plotly", "ggplot2", "tidyverse", "broom", "SemiPar", "regex")
new.packages = pkgs[!(pkgs %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)


##Working Directory
setwd("C:/Users/Nicho/OneDrive/2_Mathematics/School/courses/STAT510_intro_regression_analysis/project")

```


```{r}
#raw datasets

casesanddeaths = read.csv(file = "csvs/us-counties.csv")
data_health = read.csv(file = "csvs/us-county-health-rankings-2020.csv")
data_mobility = read.csv(file = "csvs/us-mobility.csv")

data_mobility$county = data_mobility$region

```

```{r}

CD_mobility = merge(x = casesanddeaths, y = data_mobility, all.x = TRUE, by = c("county", "state"))

```
```{r}
# Data Subsets

mobility_cov19.0329 = subset(CD_mobility, date.x = factor("2020-03-29"))
#mobility_cov19.0330 = subset(CD_mobility, date.x = "2020-03-30")
mobility_cov19.0424 = subset(CD_mobility, date.x = factor("2020-04-24"))

summary(mobility_cov19.0329)
summary(mobility_cov19.0424)
```



```{r}

basiclm.0329 = lm(CD_mobility$deaths ~ CD_mobility$retail_recreation + CD_mobility$grocery_pharmacy + CD_mobility$parks + CD_mobility$transit_stations + CD_mobility$workplaces + CD_mobility$residential, data = mobility_cov19.0329)

summary(basiclm.0329)

basiclm.0424 = lm(CD_mobility$deaths ~ CD_mobility$retail_recreation + CD_mobility$grocery_pharmacy + CD_mobility$parks + CD_mobility$transit_stations + CD_mobility$workplaces + CD_mobility$residential, data = mobility_cov19.0424)

summary(basiclm.0424)

```